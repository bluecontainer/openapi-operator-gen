# Generated by openapi-operator-gen v0.0.10-10-ge5a6a04-dirty
# Multi-stage build for kubectl plugin Docker image
FROM golang:1.25 AS builder
WORKDIR /workspace
COPY go.mod go.sum ./
RUN go mod download
COPY . .
RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -a -o /kubectl-petstore .

FROM bitnami/kubectl:latest
USER root
COPY --from=builder /kubectl-petstore /usr/local/bin/kubectl-petstore
RUN chmod +x /usr/local/bin/kubectl-petstore
USER 1001
