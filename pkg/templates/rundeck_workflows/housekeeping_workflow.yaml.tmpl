# Generated by openapi-operator-gen {{ .GeneratorVersion }}
# Housekeeping workflow - cleanup expired resources then show status
- defaultTab: output
  description: |-
    Nightly housekeeping: clean up expired one-shot resources, then show status overview.
    Intended for scheduled nightly execution.
    Steps: cleanup (expired, force) -> status
  executionEnabled: true
  group: workflows
  loglevel: INFO
  name: housekeeping
  nodeFilterEditable: false
  options:
  - name: namespace
    description: "Kubernetes namespace (defaults to project setting)"
    value: '${globals.namespace}'
  scheduleEnabled: true
  sequence:
    commands:
    - jobref:
        name: cleanup
        group: operations
        args: "-namespace ${option.namespace} -expired true -force true"
      description: "Cleanup expired one-shot resources"
    - jobref:
        name: status
        group: operations
        args: "-namespace ${option.namespace}"
      description: "Show operator status overview"
    keepgoing: false
    strategy: node-first
