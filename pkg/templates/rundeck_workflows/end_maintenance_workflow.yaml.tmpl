# Generated by openapi-operator-gen {{ .GeneratorVersion }}
# End maintenance workflow - unpause, check drift, show status
- defaultTab: output
  description: |-
    End maintenance window: unpause all resources, check for drift accumulated
    during maintenance, then show status overview.
    Steps: unpause (all) -> drift (show_diff) -> status
  executionEnabled: true
  group: workflows
  loglevel: INFO
  name: end-maintenance
  nodeFilterEditable: false
  options:
  - name: resource_kind
    description: "Resource kind to unpause (e.g., Pet, Order, User)"
    required: true
  - name: namespace
    description: "Kubernetes namespace (defaults to project setting)"
    value: '${globals.namespace}'
  scheduleEnabled: true
  sequence:
    commands:
    - jobref:
        name: unpause
        group: operations
        args: "-resource_kind ${option.resource_kind} -all true -namespace ${option.namespace}"
      description: "Unpause all resources of specified kind"
    - jobref:
        name: drift
        group: operations
        args: "-namespace ${option.namespace} -show_diff true"
      description: "Check for drift accumulated during maintenance"
    - jobref:
        name: status
        group: operations
        args: "-namespace ${option.namespace}"
      description: "Show operator status overview"
    keepgoing: false
    strategy: node-first
